<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>kana</title>
<link rel="stylesheet" href="css/index.css">
<script src="js/avalon.mobile.shim.js"></script>
</head>
<body ms-controller="kana">

	<div class="box">
		<div class="card bg-1"></div>
		<div class="card bg-2"></div>
		<div ms-repeat="cards" class="card" ms-class="cur: el.isCur" ms-class-1="turn-over: el.isTurnOver" ms-class-2="swipe: el.isSwipe" ms-click="turnOver($index)" ms-on-swipeleft="swipe($index)">
			<div class="side front">
				<p>{{el.data.name}}</p>
				<p>正面</p>
			</div>
			<div class="side back">
				<p>{{el.data.name}}</p>
				<p>背面</p>
			</div>
		</div>
	</div>

	<a href="http://www.zhangxinxu.com/study/201210/css3-animate-flip-example.html" target="_blank">demo</a>

	<script src="js/index.js"></script>
    <script>
    	function $(seletor){
    		return document.querySelector(seletor);
    	}
    	function $$(seletor){
    		return document.querySelectorAll(seletor);
    	}


    	/*var_sides = $$('.side'),
    		_index =_sides.length - 1;

    	setTimeout(function(){

    		// start animation
    		// flyUp_sides[_index]);
	    	document.onkeyup = function(event){
	    		if(event.keyCode == 39){
	    		_sides[_index].classList.add('turned');
		    		_index--;
		    		if(_index >= 0){
		    			flyUp([_index]);
		    		}else{
	    				this.onkeyup = null;
		    		}
	    		}
	    	};
    	}, 1000);

    	function flyUp(side){
    		//fly up
    		side.classList.add('fly');
    		//float around
    		setTimeout(function(){
    			side.classList.add('float');
    		}, 1000);
    	}*/
    </script>
</body>
</html>